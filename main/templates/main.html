{% extends 'base.html' %}

{% block content %}
<nav class="navbar navbar-expand-lg bg-body-tertiary px-2 mb-4">
    <div class="container-fluid">
        <a class="navbar-brand">Borong Matkul</a>
        <div class="ms-auto text-end d-flex flex-column">
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">{{ user }}</a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{% url 'main:logout' %}">Logout</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link">{{ kelas }}</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link">Sesi terakhir login: {{ last_login }}</a>
                </li>
            </ul>
        </div>
    </div>
</nav>



    
<div class="px-5 py-2">

    <div class="card px-4 py-2 mb-4 text-end">
            <a href="{% url 'main:create_product' %}">
                <button class="btn btn-primary">
                    Tambahkan Barang
                </button>
            </a>
    </div>

<div class="card p-4 mb-4">
    
<table class="table table-hover table-bordered ">
    <thead class="table-dark">
    <tr>
        <th scope="col" class="text-center align-middle">Nama Matkul</th>
        <th scope="col" class="text-center align-middle">SKS</th>
        <th scope="col" class="text-center align-middle">Deskripsi</th>
        <th scope="col" class="text-center align-middle">Kapasitas</th>
        <th scope="col" class="text-center align-middle">Kategori</th>
        <th scope="col" class="text-center align-middle">Edit</th>
    </tr>
    </thead>

    {% comment %} Berikut cara memperlihatkan data produk di bawah baris ini {% endcomment %}

    
    <tbody>
        {% for item in items %}
        <tr></tr>
            <td class="px-3" scope="row">{{item.name}}</td>
            <td> 
                <div class="d-flex justify-content-between align-items-center">
                <button class="btn btn-light" onclick="window.location.href='{% url 'main:decrement_amount' item.id %}'">-</button>
                <span id="amount{{ item.id }}">{{ item.amount }}</span>
                <button class="btn btn-light" onclick="window.location.href='{% url 'main:increment_amount' item.id %}'">+</button>
                </div>
            </td>
            <td>{{item.description}}</td>
            <td>{{item.price}}</td>
            <td>{{item.category}}</td>
            <td class="text-center align-middle"><button class="btn btn-secondary btn-sm" onclick="window.location.href='{% url 'main:delete_item' item.id %}'">Hapus</button></td>
        </tr>
        {% endfor %}
    </tbody>
    
</table>
</div>

<h4>Kamu menyimpan {{ items|length }} jenis item pada aplikasi ini</h4>
<br>

</div>



{% endblock content %}